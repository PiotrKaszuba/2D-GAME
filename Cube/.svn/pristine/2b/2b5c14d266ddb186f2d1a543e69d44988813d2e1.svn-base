#pragma once
#include <SFML/Graphics.hpp>
#include <string>
#include <Windows.h>
#include <iostream>
#include <vector>




template <class x>
class World
{
protected:
	sf::Vector2<int> size;
	sf::Vector2<int> border_size;
	x **obstacle;
	int max_objects;
	int objects;
public:
	World();
	World(sf::Vector2<int> size, sf::Vector2<int> border_size, int objects);
	~World();
	int Get_width();
	int Get_height();
	sf::Vector2<int> Get_border_size();
	int Get_max_objects();
    void Set_objects(int change);
    int Get_objects();
    x **get_obstacle();
	void Set_obstacle(int ID, int left, int top);
    void add_obstacle(int ID, x*);
};


template <class x>
World<x>::World()
{
}
template <class x>
World<x>::World(sf::Vector2<int> size, sf::Vector2<int> border_size, int objects)
{
	this->size = size;
	this->border_size = border_size;
	this->obstacle = new x*[objects];
	this->max_objects = objects;
	this->objects = 0;
}

template <class x>
World<x>::~World()
{
	delete[] this->obstacle;
}
template <class x>
int World<x>::Get_width()
{
	return this->size.x;
}
template <class x>
int World<x>::Get_height()
{
	return this->size.y;
}

template<class x>
inline sf::Vector2<int> World<x>::Get_border_size()
{
	return this->border_size;
}

template<class x>
inline int World<x>::Get_max_objects()
{
	return max_objects;
}

template<class x>
inline void World<x>::Set_objects(int change)
{
	objects += change;
}

template<class x>
inline int World<x>::Get_objects()
{
	return objects;
}

template <class x>
x **World<x>::get_obstacle()
{
	return obstacle;
}

template<class x>
inline void World<x>::Set_obstacle(int ID, int left, int top)
{
	obstacle[ID]->setPosition(sf::Vector2f(left, top));
}

template<class x>
inline void World<x>::add_obstacle(int ID, x *it)
{
	obstacle[ID] = it;
}


