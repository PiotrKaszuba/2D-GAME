#pragma once
#include "Trap.h"

//deals damage when step on
//uses some virtual function tricks to move itself to a free spot when created with weight dependencies on Physical Collision
//it actually does activate another trap when put on but deal_damage function moves it instead of dealing damage
class Damage_Trap :
	public Trap
{
protected:
	float damage;
public:
	Damage_Trap();
	Damage_Trap(int ID, Sprite_Sheet_Data base, sf::Vector2f position, World<Physical> *mapa, float damage = 1.75);
	~Damage_Trap();
	virtual void activate(Physical *target);
	virtual void deal_damage(Physical *dealer, float damage);
	virtual void update(World<Physical> *mapa);
	void deal_damage_to(Physical* target, float damage)
	{
		target->deal_damage(this, damage);
	}
};

